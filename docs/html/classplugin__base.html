<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>lighttpd-cpp: plugin_base Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>plugin_base Class Reference</h1><!-- doxytag: class="plugin_base" --><code>#include &lt;<a class="el" href="plugin_8hpp-source.html">plugin.hpp</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for plugin_base:</div>
<div class="dynsection">

<p><center><img src="classplugin__base.png" usemap="#plugin_base_map" border="0" alt=""></center>
<map name="plugin_base_map">
<area href="classPlugin.html" alt="Plugin< MostDerived >" shape="rect" coords="0,56,143,80">
</map>
</div>

<p>
<a href="classplugin__base-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="98a9f4ac48860934a8c1e96218e0cbf8"></a><!-- doxytag: member="plugin_base::set_defaults" ref="98a9f4ac48860934a8c1e96218e0cbf8" args="()" -->
handler_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>set_defaults</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9e7d7fe3bfd0e4fac9d8cc4c88b19d06"></a><!-- doxytag: member="plugin_base::initialize" ref="9e7d7fe3bfd0e4fac9d8cc4c88b19d06" args="(const server &amp;s)" -->
void *&nbsp;</td><td class="memItemRight" valign="bottom"><b>initialize</b> (const server &amp;s)</td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1fa7efbeb3925de31e1e59186658c1c0"></a><!-- doxytag: member="plugin_base::set_defaults_wrapper" ref="1fa7efbeb3925de31e1e59186658c1c0" args="(server *s, void *p_d)" -->
static handler_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>set_defaults_wrapper</b> (server *s, void *p_d)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3f93f1b89e4494a4c389115c8ef005b2"></a><!-- doxytag: member="plugin_base::initialize_wrapper" ref="3f93f1b89e4494a4c389115c8ef005b2" args="(server *s, void *p_d)" -->
static void *&nbsp;</td><td class="memItemRight" valign="bottom"><b>initialize_wrapper</b> (server *s, void *p_d)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7ce2c669c0efe22575ca69b3becdc237"></a><!-- doxytag: member="plugin_base::plugin_base" ref="7ce2c669c0efe22575ca69b3becdc237" args="(const char *name, const std::size_t version, plugin &amp;p)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>plugin_base</b> (const char *name, const std::size_t version, <a class="el" href="structplugin.html">plugin</a> &amp;p)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6e26cf6e1b55bc4a0c3d80cc57553e67"></a><!-- doxytag: member="plugin_base::p" ref="6e26cf6e1b55bc4a0c3d80cc57553e67" args="" -->
<a class="el" href="structplugin.html">plugin</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>p</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e21602a179186848d2683d5203d811fe"></a><!-- doxytag: member="plugin_base::srv" ref="e21602a179186848d2683d5203d811fe" args="" -->
const server *&nbsp;</td><td class="memItemRight" valign="bottom"><b>srv</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Base class for deriving C++ plugins from. Possibly useful if you like this sort of thing. Otherwise just make use you extern the appropriate functions (i.e. the <a class="el" href="structplugin.html">plugin</a> init function) to have C symbols. Abstract base class for C++ lighty plugins. Not sure if its worth it yet, lets see how useful it is. Really there shouldn't be any significant performance hit with these wrappers, only a small increase in memory usage per <a class="el" href="structplugin.html">plugin</a> (irrelivant). Other hit due to function calling convensions for which I do not know the details.<p>
Things that need encapsulating:<p>
<a class="el" href="classPlugin.html">Plugin</a> house keeping:<ul>
<li>set which part of the request flow we handle. i.e. _plugin_init</li><li>populate <a class="el" href="structplugin.html">plugin</a> config. i.e. set_defaults</li><li>clean up allocated memory we used. i.e. cleanup</li></ul>
<p>
The request flow:<ul>
<li>HTTP request recieved, i.e. protocol, method, uri_raw, headers (see http_req.h)</li><li>"Clean" uri_raw -&gt; uri_clean i.e. mod_rewrite</li><li>Map the clean request to an appropriate docroot.</li><li>Get the physical path to the requested file.</li><li>Do untold horrors to the requested file.<ul>
<li>More things here.</li></ul>
</li><li>Send a response back maybe.</li></ul>
<p>
Lighty allows plugins to hook in to multiple points of this flow, i.e. one type of <a class="el" href="structplugin.html">plugin</a>, but their effects at certain levels may be NULL. Serves as an easy method of sharing data between points of flow. Perhaps theres something in trying to abstract this shared data out, and removing this hardcoded sharing within a <a class="el" href="structplugin.html">plugin</a>. Don't know, just a gut feeling. Absolute base for plugins. <hr>The documentation for this class was generated from the following file:<ul>
<li>include/lighttpd-cpp/<a class="el" href="plugin_8hpp-source.html">plugin.hpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Jul 18 21:16:56 2009 for lighttpd-cpp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
